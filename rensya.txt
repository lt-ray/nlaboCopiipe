local tool = script.Parent
local clickEvent = tool:WaitForChild("ClickEvent")

local firing = false
local fireRate = 0.2  -- 連射間隔（秒）

tool.Equipped:Connect(function(mouse)
	-- 押したら発射開始
	mouse.Button1Down:Connect(function()
		if firing then return end
		firing = true
		while firing do
			clickEvent:FireServer(mouse.Hit.Position)
			task.wait(fireRate)
		end
	end)

	-- 離したら停止
	mouse.Button1Up:Connect(function()
		firing = false
	end)
end)